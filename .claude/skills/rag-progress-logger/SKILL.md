---
name: rag-progress-logger
description: 在每次会话后向claude-progress.txt追加结构化的会话笔记。用于记录目标、变更、测试、结果、已知问题和下一个目标，确保RAG项目开发过程的可追溯性。
allowed-tools: Read, Write, Git
---

# RAG项目进度记录器

## 记录格式
```
[session] ISO8601时间戳
project: RAG智能问答系统
goal: 本次会话的具体目标（功能ID + 功能描述）
context: 当前目录状态 + git日志摘要 + init.sh执行状态
changes: 修改的文件/模块列表（重点：向量处理、检索逻辑、生成模型调用）
rag_flow: RAG流程变更说明（文档处理 → 向量化 → 检索 → 生成）
test_evidence:
  - 文档处理测试结果
  - 检索准确性验证
  - 生成质量评估
  - 用户界面交互测试
status: passes=true for <功能ID>
next: <下一个未通过功能的ID>（选择理由说明）
notes:
  - 已知限制（如文档格式支持、检索精度等）
  - 临时解决方案
  - 技术债务记录
  - 模型性能观察
```

## RAG特定记录要点

### 文档处理变更
- 新增文档格式的解析器
- 分段策略调整
- 向量化模型更换
- 索引结构优化

### 检索功能变更
- 相似度计算方法调整
- 检索策略（语义/混合/关键词）变更
- 结果排序算法修改
- 过滤条件调整

### 生成功能变更
- LLM模型参数调整
- Prompt模板优化
- 上下文长度管理策略
- 回答质量评估方法

### 性能指标记录
- 文档向量化时间
- 检索响应时间
- 生成回答时间
- 端到端延迟

## 指令说明
- 仅追加记录，不重写历史
- 包含git提交SHA和测试证据引用
- 详细记录RAG系统各组件的变更和影响
- 记录模型性能和用户观察到的体验变化