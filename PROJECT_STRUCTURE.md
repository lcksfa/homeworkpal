# Homework Pal é¡¹ç›®ç»“æ„é‡æ„æŒ‡å—

## ğŸ“ æ–°çš„ç›®å½•ç»“æ„

é‡æ„åçš„é¡¹ç›®éµå¾ªPythonå·¥ç¨‹æœ€ä½³å®è·µï¼Œå…·æœ‰æ¸…æ™°çš„æ¨¡å—åŒ–ç»“æ„ï¼š

```
homeworkpal/
â”œâ”€â”€ pyproject.toml           # é¡¹ç›®é…ç½®å’Œä¾èµ–ç®¡ç†
â”œâ”€â”€ README.md               # é¡¹ç›®ä¸»æ–‡æ¡£
â”œâ”€â”€ README_SIMPLE.md        # ç®€åŒ–ç‰ˆå¿«é€Ÿå¼€å§‹æŒ‡å—
â”œâ”€â”€ URL_GUIDE.md           # URLè®¿é—®æŒ‡å—
â”œâ”€â”€ init.sh                # ç¯å¢ƒåˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ run_simple_api.py      # ç®€åŒ–ç‰ˆAPIå…¥å£ç‚¹
â”‚
â”œâ”€â”€ homeworkpal/           # ä¸»åŒ…ç›®å½•
â”‚   â”œâ”€â”€ __init__.py        # åŒ…åˆå§‹åŒ–
â”‚   â”‚
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ config.py      # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ exceptions.py  # è‡ªå®šä¹‰å¼‚å¸¸
â”‚   â”‚
â”‚   â”œâ”€â”€ api/               # FastAPIåç«¯
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ main.py        # ä¸»åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ routes/        # APIè·¯ç”±æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ health.py
â”‚   â”‚   â”‚   â””â”€â”€ status.py
â”‚   â”‚   â””â”€â”€ dependencies.py # FastAPIä¾èµ–
â”‚   â”‚
â”‚   â”œâ”€â”€ frontend/          # Chainlitå‰ç«¯
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ app.py         # Chainlitä¸»åº”ç”¨
â”‚   â”‚   â””â”€â”€ handlers/      # äº‹ä»¶å¤„ç†å™¨
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ chat.py
â”‚   â”‚       â””â”€â”€ actions.py
â”‚   â”‚
â”‚   â”œâ”€â”€ simple/            # ç®€åŒ–ç‰ˆæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ api.py         # ç®€åŒ–ç‰ˆAPI
â”‚   â”‚   â””â”€â”€ app.py         # ç®€åŒ–ç‰ˆå‰ç«¯
â”‚   â”‚
â”‚   â”œâ”€â”€ database/          # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ models.py      # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ connection.py  # æ•°æ®åº“è¿æ¥
â”‚   â”‚
â”‚   â”œâ”€â”€ llm/              # LLMé›†æˆ
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py        # åŸºç¡€LLMæ¥å£
â”‚   â”‚   â”œâ”€â”€ qwen.py        # Qwenæ¨¡å‹
â”‚   â”‚   â””â”€â”€ deepseek.py    # DeepSeekæ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ vision/           # å›¾åƒå¤„ç†
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ grading.py    # å›¾åƒè¯„åˆ†
â”‚   â”‚
â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ logger.py     # æ—¥å¿—å·¥å…·
â”‚       â””â”€â”€ helpers.py    # è¾…åŠ©å‡½æ•°
â”‚
â”œâ”€â”€ scripts/              # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ start_services.sh     # æœåŠ¡å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ test_complete.sh      # å®Œæ•´æµ‹è¯•è„šæœ¬
â”‚   â”œâ”€â”€ test_simple.sh        # ç®€å•æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ test_environment.py   # ç¯å¢ƒæµ‹è¯•
â”‚
â”œâ”€â”€ tests/               # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py      # pytesté…ç½®
â”‚   â”œâ”€â”€ test_api/        # APIæµ‹è¯•
â”‚   â”œâ”€â”€ test_frontend/   # å‰ç«¯æµ‹è¯•
â”‚   â””â”€â”€ test_simple/     # ç®€åŒ–ç‰ˆæµ‹è¯•
â”‚
â”œâ”€â”€ docs/               # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ å¼€å‘ä»»åŠ¡åˆ†æ‹†.md
â”‚   â”œâ”€â”€ ç¯å¢ƒé…ç½®æŒ‡å—.md
â”‚   â””â”€â”€ ä½œä¸šæ­å­äº§å“æ–‡æ¡£.md
â”‚
â”œâ”€â”€ data/               # æ•°æ®ç›®å½•
â”‚   â””â”€â”€ textbooks/     # æ•™ææ•°æ®
â”‚
â”œâ”€â”€ uploads/            # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”œâ”€â”€ logs/              # æ—¥å¿—ç›®å½•
â””â”€â”€ vector_index/      # å‘é‡ç´¢å¼•ç›®å½•
```

## ğŸ”„ ä¸»è¦å˜æ›´

### 1. åŒ…ç»“æ„é‡ç»„
- **ç§»é™¤ `src/` ç›®å½•**ï¼šå°† `src/homeworkpal/` ç§»åŠ¨åˆ°æ ¹ç›®å½•çš„ `homeworkpal/`
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæŒ‰åŠŸèƒ½å°†ä»£ç åˆ†ä¸ºå¤šä¸ªå­æ¨¡å—ï¼ˆ`api/`, `frontend/`, `database/`, `llm/`, `vision/`, `utils/`ç­‰ï¼‰
- **ç®€åŒ–ç‰ˆæœåŠ¡**ï¼šä¸“é—¨åˆ›å»º `simple/` å­æ¨¡å—ç”¨äºåŸºç¡€åŠŸèƒ½éªŒè¯

### 2. é…ç½®ç®¡ç†
- **é›†ä¸­åŒ–é…ç½®**ï¼šåˆ›å»º `homeworkpal/core/config.py` ç»Ÿä¸€ç®¡ç†æ‰€æœ‰é…ç½®
- **ç¯å¢ƒå˜é‡æ”¯æŒ**ï¼šé€šè¿‡ `python-dotenv` åŠ è½½ `.env` æ–‡ä»¶
- **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨ Pydantic é£æ ¼çš„é…ç½®ç±»

### 3. è„šæœ¬é‡ç»„
- **scripts ç›®å½•**ï¼šå°†æ‰€æœ‰è„šæœ¬æ–‡ä»¶ç§»åŠ¨åˆ° `scripts/` ç›®å½•
- **é‡å‘½å**ï¼š`start_simple.sh` â†’ `start_services.sh`
- **è·¯å¾„æ›´æ–°**ï¼šæ‰€æœ‰è„šæœ¬ä¸­çš„æ¨¡å—å¼•ç”¨è·¯å¾„å·²æ›´æ–°

### 4. æµ‹è¯•ç»“æ„
- **æµ‹è¯•åˆ†ç±»**ï¼šæŒ‰æ¨¡å—ç»„ç»‡æµ‹è¯•æ–‡ä»¶
- **pytesté…ç½®**ï¼šæ·»åŠ  `conftest.py` é…ç½®æ–‡ä»¶
- **ç®€åŒ–ç‰ˆæµ‹è¯•**ï¼šä¸“é—¨çš„ç®€åŒ–ç‰ˆåŠŸèƒ½æµ‹è¯•

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### ç®€åŒ–ç‰ˆæœåŠ¡å¯åŠ¨
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨è„šæœ¬ï¼ˆæ¨èï¼‰
./scripts/start_services.sh

# æ–¹æ³•2ï¼šä½¿ç”¨Pythonæ¨¡å—
python -m homeworkpal.simple.api

# æ–¹æ³•3ï¼šä½¿ç”¨å…¥å£è„šæœ¬
python run_simple_api.py
```

### å‰ç«¯å¯åŠ¨
```bash
# ä½¿ç”¨è„šæœ¬
./scripts/start_services.sh  # è‡ªåŠ¨å¯åŠ¨å‰åç«¯

# æˆ–æ‰‹åŠ¨å¯åŠ¨
chainlit run homeworkpal.simple.app --host 0.0.0.0 --port 8000
```

### æµ‹è¯•
```bash
# å®Œæ•´æµ‹è¯•
./scripts/test_complete.sh

# ç®€å•æµ‹è¯•ï¼ˆéœ€è¦å…ˆå¯åŠ¨æœåŠ¡ï¼‰
./scripts/test_simple.sh

# ç¯å¢ƒæµ‹è¯•
python scripts/test_environment.py
```

## ğŸ“¦ åŒ…å¯¼å…¥ç¤ºä¾‹

### å¯¼å…¥é…ç½®
```python
from homeworkpal.core.config import settings
print(f"API Port: {settings.PORT}")
```

### å¯¼å…¥ç®€åŒ–ç‰ˆAPI
```python
from homeworkpal.simple.api import app
```

### å¯¼å…¥å·¥å…·å‡½æ•°
```python
from homeworkpal.utils.logger import get_logger
from homeworkpal.utils.helpers import format_response
```

## ğŸ§¹ æ¸…ç†æ—§æ–‡ä»¶

ä»¥ä¸‹æ–‡ä»¶å·²è¢«é‡ç»„ï¼Œå¯ä»¥å®‰å…¨åˆ é™¤ï¼š
- âœ… `main_simple.py` â†’ `homeworkpal/simple/api.py`
- âœ… `app_simple.py` â†’ `homeworkpal/simple/app.py`
- âœ… `start_simple.sh` â†’ `scripts/start_services.sh`
- âœ… `test_complete.sh` â†’ `scripts/test_complete.sh`
- âœ… `test_simple.sh` â†’ `scripts/test_simple.sh`
- âœ… `test_environment.py` â†’ `scripts/test_environment.py`

## âœ… ä¼˜åŠ¿

1. **æ¸…æ™°çš„æ¨¡å—åˆ†ç¦»**ï¼šä¸åŒåŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼Œä¾¿äºç»´æŠ¤
2. **æ ‡å‡†åŒ–ç»“æ„**ï¼šç¬¦åˆPythoné¡¹ç›®çš„æœ€ä½³å®è·µ
3. **æ›´å¥½çš„æµ‹è¯•ç»„ç»‡**ï¼šæŒ‰æ¨¡å—ç»„ç»‡æµ‹è¯•æ–‡ä»¶
4. **é›†ä¸­é…ç½®ç®¡ç†**ï¼šç»Ÿä¸€çš„é…ç½®ç³»ç»Ÿ
5. **ç®€åŒ–å¼€å‘æµç¨‹**ï¼šæ¸…æ™°çš„å…¥å£ç‚¹å’Œè„šæœ¬ç»„ç»‡
6. **ä¾¿äºæ‰©å±•**ï¼šæ–°åŠŸèƒ½å¯ä»¥è½»æ¾æ·»åŠ åˆ°å¯¹åº”æ¨¡å—
7. **æ›´å¥½çš„IDEæ”¯æŒ**ï¼šæ¨¡å—åŒ–ç»“æ„æä¾›æ›´å¥½çš„ä»£ç å¯¼èˆªå’Œè‡ªåŠ¨å®Œæˆ

## ğŸ”§ å¼€å‘å»ºè®®

1. **æ–°åŠŸèƒ½å¼€å‘**ï¼šæ ¹æ®åŠŸèƒ½ç±»å‹åœ¨å¯¹åº”æ¨¡å—ä¸‹åˆ›å»ºæ–‡ä»¶
2. **é…ç½®ä¿®æ”¹**ï¼šåœ¨ `homeworkpal/core/config.py` ä¸­æ·»åŠ æ–°çš„é…ç½®é¡¹
3. **æµ‹è¯•ç¼–å†™**ï¼šåœ¨ `tests/` ç›®å½•ä¸‹åˆ›å»ºå¯¹åº”çš„æµ‹è¯•æ–‡ä»¶
4. **è„šæœ¬æ·»åŠ **ï¼šå°†æ–°è„šæœ¬æ”¾åœ¨ `scripts/` ç›®å½•ä¸‹
5. **æ–‡æ¡£æ›´æ–°**ï¼šé¡¹ç›®æ–‡æ¡£æ”¾åœ¨ `docs/` ç›®å½•ä¸‹

è¿™ä¸ªæ–°çš„ç»“æ„ä¸ºé¡¹ç›®çš„é•¿æœŸç»´æŠ¤å’Œæ‰©å±•æä¾›äº†åšå®çš„åŸºç¡€ã€‚